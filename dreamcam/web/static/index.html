<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>DreamCam</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Status banner -->
    <div id="status-banner" class="status-idle">Ready</div>

    <!-- Tab content -->
    <main>
        <!-- Capture tab -->
        <section id="capture-tab" class="tab-content active">
            <div class="capture-controls">
                <button id="shutter-btn" class="shutter-btn" aria-label="Capture">
                    <span class="shutter-inner"></span>
                </button>
                <p class="hint">Tap to capture with Pi camera</p>
            </div>

            <div class="upload-section">
                <label id="upload-btn" class="upload-btn" for="upload-input">
                    Upload Photo
                </label>
                <input type="file" id="upload-input" accept="image/*" capture="environment" hidden>
            </div>

            <div id="style-picker">
                <h3>Style</h3>
                <div id="style-current" class="style-current"></div>
                <div id="style-categories"></div>
            </div>
        </section>

        <!-- Gallery tab -->
        <section id="gallery-tab" class="tab-content">
            <div id="gallery-empty" class="empty-state hidden">No dreams yet</div>
            <div id="gallery-grid" class="gallery-grid"></div>
            <div id="gallery-viewer" class="gallery-viewer hidden">
                <img id="gallery-full" alt="Dream image">
                <div class="viewer-controls">
                    <button id="gallery-close" class="viewer-btn">Close</button>
                    <a id="gallery-download" class="viewer-btn" download>Download</a>
                </div>
            </div>
        </section>

        <!-- Preview tab -->
        <section id="preview-tab" class="tab-content">
            <div class="preview-container">
                <img id="preview-img" alt="E-ink display preview">
                <p id="preview-info" class="hint"></p>
            </div>
        </section>
    </main>

    <!-- Bottom tab bar -->
    <nav id="tabs">
        <button class="tab active" data-tab="capture">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M9 2L7.17 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-3.17L15 2H9z"/></svg>
            <span>Capture</span>
        </button>
        <button class="tab" data-tab="gallery">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
            <span>Gallery</span>
        </button>
        <button class="tab" data-tab="preview">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
            <span>Preview</span>
        </button>
    </nav>

    <script src="app.js"></script>
</body>
</html>
